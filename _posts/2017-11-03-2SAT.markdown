---
layout: post
title: 2-SAT
date: 2017-11-03 15:52:0 +0800
categories: technology
tags: 图论
img: 
---
2sat2sat2sat2sat...

# 2-SAT

## 基本的建图

我们有一些bool变量,需要满足一些条件,比如说a!=b

那么把每个变量(假装是a)拆成2个点...一个表示a=true,一个表示a=false

当然我们只能选其中一个点

对于一些逻辑条件,比如a!=b,就可以表示成a.false->b.true,a.true->b.false,b.true->a.false,b.false->a.true

## 结局的本源,必须要满足对称性

什么意思呢,就是说,它看起来是对称的233.~~我的A点如果连向了你的B点,你的A点就一定是连向我的B点的,理解一下,因为所有逻辑运算符号都是有交换律的~~

还有哦,这个对称性是可以传承的,意思是说,它是可以传承的.~~反正就是说,不论两组点有没有直接连边,它都是对称的~~

## O(n x m)

优点,可以求字典序最小的解...~~万恶的输出方案毁青春系列~~

做法,就是从未被钦点的标号最小的变量(假装是a),钦点a=true,与之前所选的矛盾或者自相矛盾,改为钦点a=false...

非常的直观呢,复杂度O(n x m)~~为什么啊,这不是很O(n)吗!?0v0~~

以及为什么一开始钦点的无须改变呢,这是没有意义的,因为啊:~~明明是它先啊,一口雪碧恩哼~~

对于首先选了a.true然后选到b.true发现与其矛盾,与其尝试a.false,不如钦点b.false,因为前者是没有意义的.记得之前所说的对称性吗=.=

# O(n+m)

~~Tarjan啊Tarjan~~

要判断一个2-SAT问题是否有合法方案,只需在其上缩个点,然后判断是否有决不能在一起的点被缩在了一起

这样就是对的因为我们总有如下方案可以构造出某一组合法解

缩点后就是一个DAG了对嘛,对于这个DAG开始拓扑啊,这个拓扑是有一些性质,就是如果我们钦点有某个点被选,那么其后的所有点都应该被选,这就十分地不妙了,因为随便举个缩点后的例子:a->b,我们选了a,那么b必选,完了,整张图都被选了...

所以我们首先钦点不选,之后在不得已的情况下再钦点选哒----不得以的情况是指,选了一个强联通分量,那么其中所有点的相反点所在强联通分量都被钦点不选,以及打个标记,代表其后所有的点,不选.

这样当然是对哒,因为对称性,如果用同一个点ban掉了两个相反的点,那么被ban的点一定连向我,这个指使我的反点去ban你们的点,矛盾啦,不是DAG啦!!!

例题什么的不存在的吧~~懒~~
